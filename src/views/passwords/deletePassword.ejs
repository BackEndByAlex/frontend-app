<link rel="stylesheet" href="./css/passwordDelete.css">

<script type="module" src="./js/deletepopup.js"></script>

<section id="delete" class="dashboard-section">
  <div class="info-card">
    <h2><%= entry.service %></h2>
    <ul class="info-list">
      <li><strong>KodeNane:</strong> <%= entry.username %></li>
    </ul>
    <button type="button" id="open-delete-modal" class="btn-delete">
      <i class="fas fa-trash-alt"></i> Ta bort lösenord
    </button>
  </div>
</section>

<!-- Två modaler för tvåstegs-bekräftelse -->
<div id="delete-modal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="delete-modal-title">
  <div class="modal-content">
    <h2 id="delete-modal-title">Ta bort lösenord</h2>
    <p>Är du säker på att du vill ta bort lösenordet för <strong><%= entry.service %></strong>?</p>
    <div class="modal-actions">
      <button type="button" id="confirm-delete-first" class="btn-confirm">Ja, ta bort</button>
      <button type="button" id="cancel-delete-first" class="btn-cancel">Avbryt</button>
    </div>
  </div>
</div>

<div id="final-delete-modal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="final-delete-modal-title">
  <div class="modal-content">
    <h2 id="final-delete-modal-title">Bekräfta borttagning</h2>
    <p>Detta kan inte ångras. Vill du verkligen fortsätta?</p>
    <form method="POST" action="./passwords/<%= entry._id %>/delete">
      <input type="hidden" name="_csrf" value="<%= csrfToken %>">
      <div class="modal-actions">
        <button type="submit" class="btn-confirm">Ja, ta bort permanent</button>
        <button type="button" id="cancel-delete-final" class="btn-cancel">Tillbaka</button>
      </div>
    </form>
  </div>
</div>

